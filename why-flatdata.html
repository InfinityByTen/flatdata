
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Why flatdata? &#8212; flatdata 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Flatdata Library Layout" href="library-layout.html" />
    <link rel="prev" title="Quick Start Guide" href="quick-start.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="why-flatdata">
<h1>Why <code class="docutils literal"><span class="pre">flatdata</span></code>?<a class="headerlink" href="#why-flatdata" title="Permalink to this headline">¶</a></h1>
<p>There are plenty libraries and services for handling data. How is
<code class="docutils literal"><span class="pre">flatdata</span></code> different?</p>
<div class="section" id="access-patterns">
<h2>Access Patterns<a class="headerlink" href="#access-patterns" title="Permalink to this headline">¶</a></h2>
<p>What happens if you need to traverse hundreds of
thousands of entities per incoming request? What if for each entity you
need to do extra lookups in the data? What if the entities are
relatively small (few dozen bytes), but exhibit poor locality?</p>
<p><code class="docutils literal"><span class="pre">flatdata</span></code> provides tools to implement efficient data storage that
enables such use-cases. While structuring the data is still done by
developer, <code class="docutils literal"><span class="pre">flatdata</span></code> provides implementations for common patterns
that make the job simpler.</p>
</div>
<div class="section" id="efficient-storage">
<h2>Efficient Storage<a class="headerlink" href="#efficient-storage" title="Permalink to this headline">¶</a></h2>
<p>What if your data consists of millions or
billions of entities? What if the data is as rich as hundreds of
potentially assigned attributes for each entity? Storing things
efficiently makes for a smaller footprint, saves bandwidth and allows to
better utilize system caches, directly affecting performance.</p>
<p><code class="docutils literal"><span class="pre">flatdata</span></code> allows to operate on bit level without losing benefits of
structured data access. If the attribute is boolean, why use a byte for
it? If the value range is [0, 211) why not use spare five bits at the
end of the field?</p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>Finally, if your data is rich, you might want to give it
some structure. <code class="docutils literal"><span class="pre">flatdata</span></code> allows to define data structure using a
schema language, which can also be used for documenting the data format,
as well as to avoid writing boilerplate code.</p>
</div>
<div class="section" id="when-is-that-useful">
<h2>When is That Useful?<a class="headerlink" href="#when-is-that-useful" title="Permalink to this headline">¶</a></h2>
<p>We designed the library that way to support following patterns:</p>
<ul class="simple">
<li>Your data updates infrequently (say, every few hours. But as long as
update rate is <em>much</em> smaller than serialization time, you should be
set).</li>
<li>You can afford to recreate the full flatdata archive every time you
need to do structure update.</li>
<li>Your data can be efficiently serialized into a mid-sized archive
(~50GB? ~200GB? As long as data size is <em>comparable</em> to the amount of
RAM on the machine, you should be fine.)</li>
<li>Your data is going to be accessed <em>many</em> times (substantially more
often than it is updated).</li>
<li>You want to optimize your data to be cache-friendly: sort things as
often as possible, minimize size of indices, group data that is used
together, store everything else separately.</li>
</ul>
</div>
<div class="section" id="what-can-i-store-in-flatdata">
<h2>What Can I Store in Flatdata?<a class="headerlink" href="#what-can-i-store-in-flatdata" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">flatdata</span></code> does not impose any particular way of structuring the data.
So, mostly anything. That said, following patterns work best:</p>
<ul class="simple">
<li>Structures with categorical and numerical data.</li>
<li>Implicit or explicit references between data structures. One to one,
one to many, many to many. Pretty much as in any DBMS, up to
developer to implement via associative vectors.</li>
<li>Low-frequency attributes, which can be assigned to only a small
subset of a large number of entities.</li>
<li>Arbitrary metadata that can be attached to entities.</li>
</ul>
</div>
<div class="section" id="what-is-behind-flatdata">
<h2>What is behind <code class="docutils literal"><span class="pre">flatdata</span></code>?<a class="headerlink" href="#what-is-behind-flatdata" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">flatdata</span></code> is based on files. <code class="docutils literal"><span class="pre">flatdata</span></code> uses custom
platform-independent structure alignment (one byte) and stores data
in little-endian order.</li>
<li>Reading and writing data is implemented in efficient C++. Templates,
inlining and compiler optimizations yield only few instructions per
data access.</li>
<li>When accessing <code class="docutils literal"><span class="pre">flatdata</span></code>, no data is accessed or copied, until the
point you use it. <em>When</em> you use it, you read only the bytes you
need. Memory-mapped files and page cache takes care of everything
else.</li>
<li>When writing to <code class="docutils literal"><span class="pre">flatdata</span></code>, one can create full collection of
structures in memory and dump it to disk or efficiently build up
large collection while keeping fixed memory footprint.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.svg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick Start Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Why <code class="docutils literal"><span class="pre">flatdata</span></code>?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#access-patterns">Access Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="#efficient-storage">Efficient Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#when-is-that-useful">When is That Useful?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-can-i-store-in-flatdata">What Can I Store in Flatdata?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-behind-flatdata">What is behind <code class="docutils literal"><span class="pre">flatdata</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="library-layout.html">Flatdata Library Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema-language.html">Schema Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="building-archives.html">Building archives</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="flatdata-cpp/index.html">Flatdata C++ Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="flatdata-py/index.html">Flatdata Python Libraries</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer-documentation/generator-architecture.html">Generator Architecture</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="quick-start.html" title="previous chapter">Quick Start Guide</a></li>
      <li>Next: <a href="library-layout.html" title="next chapter">Flatdata Library Layout</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, HERE Technologies.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>